<div class="modal-header">
	<h3 class="modal-title">Submit a Comment</h3>
</div>

<div class="modal-body" ng-if="publicComment.step === 1">

	<h3>Submitting Your Comments: How It Works</h3>
	<div class="small form-group">
		<p>Comments submitted to the Environmental Assessment Office (EAO) will be published online.</p>
		<p>EAO publishes all accepted comments within seven days of receipt. Comments are not accepted if - in EAO’s view - they are profane, abusive or do not relate to the matter being consulted upon as stated in our <a href="http://www.eao.gov.bc.ca/pdf/EAO_Policy_Public_Comment.pdf" target="_new">Public Comment Policy [PDF]</a>.</p>
		<p>EAO forwards all posted comments to project proponents so that they can be duly considered during the project's Environmental Assessment (EA) process.</p>
		<p>You may provide your name and city/town when making a comment, but in order to have your name displayed with your comment you must select the 'Show my name and location on the public site' option.</p>
		<p>All hyperlinks in comments will be converted to plain text. All attachments will be limited to 5MB.</p>

	</div>

</div>


<form name="publicCommentForm" ng-submit="publicComment.send(publicCommentForm.$valid)" novalidate autocomplete="off">

	<div class="modal-body" ng-if="publicComment.step === 2">
		<div class="form-group" show-errors>
			<label for="publiccomment" class="control-label">Your Comment</label>
			<textarea id="publiccomment" name="publiccomment" class="form-control" rows="6" ng-model="publicComment.data.comment" required></textarea>
			
			<div ng-messages="publicCommentForm.publiccomment.$error" role="alert">
				<p class="help-block error-text small" ng-message="required"><em>A comment is required.</em></p>
			</div>
		
		</div>
		<div class="row">
			<div class="form-group col-sm-6" show-errors>
				<label for="name" class="control-label">Your Name</label>
				<input type="input" id="name" name="name" class="form-control" ng-model="publicComment.data.author"/>

				<div ng-messages="publicCommentForm.name.$error" role="alert">
					<p class="help-block error-text small" ng-message="required"><em>Your Name is required.</em></p>
				</div>

			</div>
			<div class="form-group col-sm-6" show-errors>
				<label for="location" class="control-label">Your Location</label>
				<input type="input" id="location" name="location" class="form-control" ng-model="publicComment.data.location"/>

				<div ng-messages="publicCommentForm.location.$error" role="alert">
					<p class="help-block error-text small" ng-message="required"><em>Your Location is required.</em></p>
				</div>

			</div>
		</div>

		<div class="checkbox well well-sm">
	     	<label>
	     		<input type="checkbox" ng-model="publicComment.data.displayName"> Show my name and location on the public site.
	     	</label>
	     </div>


		<a href ng-click="publicComment.form.showDocuments = true" ng-show="!publicComment.form.showDocuments">Click here to upload documents and images.</a>
		<div ng-show="publicComment.form.showDocuments">
			<tmpl-documents-upload-general x-project="publicComment.project" x-type="comment" x-hide-upload-button="true" x-parent-id="publicComment.data._id"></tmpl-documents-upload-general>
		</div>
	</div>

	<div class="modal-body" ng-if="publicComment.step === 3">
		<h3>Thank you for your comment</h3>
		<label class="control-label">What happens next?</label>
		<div class="form-group small">
			<p>Comments submitted to the Environmental Assessment Office (EAO) will be published online</p>
			<p>EAO publishes all accepted comments within seven days of receipt. Comments are not accepted if - in EAO’s view - they are profane, abusive or do not relate to the matter being consulted upon as stated in our <a href="http://www.eao.gov.bc.ca/pdf/EAO_Policy_Public_Comment.pdf" target="_new">Public Comment Policy [PDF]</a>.</p>
		</div>
	</div>


	<div class="modal-footer" ng-if="publicComment.step === 1">
		<button class="btn btn-default" type="button" ng-click="publicComment.cancel()">Cancel</button>
		<button class="btn btn-primary" type="button" ng-click="publicComment.step = 2">Continue</button>
	</div>

	<div class="modal-footer" ng-if="publicComment.step === 2">
		<button class="btn btn-default" type="button" ng-click="publicComment.cancel()">Cancel</button>
		<button class="btn btn-primary" type="submit">Submit</button>
	</div>

	<div class="modal-footer" ng-if="publicComment.step === 3">
		<button class="btn btn-primary" type="button" ng-click="publicComment.ok()">Close</button>
	</div>

</form>