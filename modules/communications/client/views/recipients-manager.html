<div>
	<div class="panel panel-default">
		<div class="panel-heading">
			<label>TO ({{recipientsTo.length}})</label>
			<div class="pull-right">
				<button ng-show="enableAddNew"
						type="button"
						x-add-new-recipient
						x-project="project"
						x-current="adhocTo"
						class="btn btn-default btn-sm">
					<span class="glyphicon glyphicon-plus"></span><span>Add New</span></button>
				<button ng-show="enableAddExisting"
						type="button"
						x-user-search-chooser
						x-title="'Add Existing'"
						x-project="project"
						x-destination="existingTo"
						class="btn btn-default btn-sm">
					<span class="glyphicon glyphicon-plus"></span><span>Add Existing</span></button>
			</div>
		</div>
		<div class="panel-body detail-panel">
			<div class="detail-row">
				<div class="anchor-list">
					<span ng-repeat="r in recipientsTo">{{r.email}}{{$last ? '' : ', '}}</span>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="enableCc" class="panel panel-default">
		<div class="panel-heading">
			<label>CC ({{recipientsCc.length}})</label>
			<div class="pull-right">
				<button ng-show="enableAddNew"
						type="button"
						x-add-new-recipient
						x-project="project"
						x-current="adhocCc"
						class="btn btn-default btn-sm">
					<span class="glyphicon glyphicon-plus"></span><span>Add New</span></button>
				<button ng-show="enableAddExisting"
						type="button"
						x-user-search-chooser
						x-title="'Add Existing'"
						x-project="project"
						x-destination="existingCc"
						class="btn btn-default btn-sm">
					<span class="glyphicon glyphicon-plus"></span><span>Add Existing</span></button>
			</div>
		</div>
		<div class="panel-body detail-panel">
			<div class="detail-row">
				<div class="anchor-list">
					<span ng-repeat="r in recipientsCc">{{r.email}}{{$last ? '' : ', '}}</span>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="enableBcc"  class="panel panel-default">
		<div class="panel-heading">
			<label>BCC ({{recipientsBcc.length}})</label>
			<div class="pull-right">
				<button ng-show="enableAddNew"
					type="button"
					x-add-new-recipient
					x-project="project"
					x-current="adhocBcc"
					class="btn btn-default btn-sm">
				<span class="glyphicon glyphicon-plus"></span><span>Add New</span></button>
			<button ng-show="enableAddExisting"
					type="button"
					x-user-search-chooser
					x-title="'Add Existing'"
					x-project="project"
					x-destination="existingBcc"
					class="btn btn-default btn-sm">
				<span class="glyphicon glyphicon-plus"></span><span>Add Existing</span></button>
			</div>
		</div>
		<div class="panel-body detail-panel">
			<div class="detail-row">
				<div class="anchor-list">
					<span ng-repeat="r in recipientsBcc">{{r.email}}{{$last ? '' : ', '}}</span>
				</div>
			</div>
		</div>
	</div>

	<div ng-show="showMail && recipientsMail.length > 0" class="panel panel-default">
		<div class="panel-heading">
			<label>Via Mail ({{recipientsMail.length}})</label>
			<div class="pull-right">
			</div>
		</div>
		<div class="panel-body detail-panel">
			<div class="detail-row">
				<div class="anchor-list">
					<span ng-repeat="r in recipientsMail">{{r.displayName}}{{$last ? '' : ', '}}</span>
				</div>
			</div>
		</div>
	</div>

	<div class="panel panel-default">
		<table ng-table="tableParams" show-filter="true" class="communications-table table table-hover vc-table">
			<tr ng-repeat="o in $data">
				<td class="name-col" header-class="'name-col'" data-title="'Name'" filter="{'displayName':'text'}" sortable="'displayName'">{{o.displayName}}
				</td>
				<td class="email-col" header-class="'email-col'" data-title="'Email'" filter="{'email':'text'}" sortable="'email'">{{o.email}}
				</td>
				<td class="org-col" header-class="'org-col'" data-title="'Organization'" filter="{'org':'text'}" sortable="'org'">{{o.org}}
				</td>
				<td ng-if="showTypeCol" class="action-x2" header-class="'action-x2'" data-title="'Type'" filter="{'type':'text'}" sortable="'type'">{{o.type | uppercase}}
				</td>
				<td class="actions-col action-x1" header-class="'actions-col action-x1'" data-title="''">
					<button type="button" class="btn btn-default btn-sm" ng-click="removeRecipient(o.email)">
						<span class="glyphicon glyphicon-remove"></span>
					</button>
				</td>
			</tr>

			<tr class="no-records hidden" ng-if="!$data || $data.length === 0">
				<td colspan="2">
					No records found.
				</td>
			</tr>

		</table>
	</div>
</div>